1:HL["/_next/static/css/461c8a9bf57c3ebb.css",{"as":"style"}]
0:[[["",{"children":["blog",{"children":[["board","PC-Community","d"],{"children":[["post","2021-08-12-005-react-router-navigation","d"],{"children":["__PAGE__?{\"board\":\"PC-Community\",\"post\":\"2021-08-12-005-react-router-navigation\"}",{}]}]}]}]},"$undefined","$undefined",true],"$L2",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/461c8a9bf57c3ebb.css","precedence":"next"}]],["$L3",null]]]]
4:I{"id":"9487","chunks":["185:static/chunks/app/layout-006ff9e5c3a0979e.js"],"name":"","async":false}
5:I{"id":"9544","chunks":["272:static/chunks/webpack-765bd21d5766fc77.js","667:static/chunks/2443530c-843a899f2bba8eb6.js","139:static/chunks/139-2d122f65c95cff8e.js"],"name":"","async":false}
6:I{"id":"99","chunks":["272:static/chunks/webpack-765bd21d5766fc77.js","667:static/chunks/2443530c-843a899f2bba8eb6.js","139:static/chunks/139-2d122f65c95cff8e.js"],"name":"","async":false}
3:[[["$","meta",null,{"charSet":"utf-8"}],null,null,null,null,null,null,null,null,null,null,["$","meta",null,{"name":"viewport","content":"width=device-width, initial-scale=1"}],null,null,null,null,null,null,null,null,null,null,[]],[null,null,null,null],null,null,[null,null,null,null,null],null,null,null,null,null]
2:[["$","$L4",null,{"children":["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L6",null,{}],"templateStyles":"$undefined","notFound":["$","div",null,{"className":"space-y-4 text-vercel-pink","children":[["$","h2",null,{"className":"text-lg font-bold","children":"Not Found"}],["$","p",null,{"className":"text-sm","children":"Could not find requested resource"}]]}],"notFoundStyles":[],"asNotFound":"$undefined","childProp":{"current":["$L7",null],"segment":"blog"},"styles":[]}],"params":{}}],null]
7:["$","div",null,{"children":["$","div",null,{"className":"my-10 grid grid-cols-[1fr,minmax(auto,200px),min(860px,100%),1fr] gap-x-4","children":[["$","div",null,{"className":"col-start-2","children":"$L8"}],["$","div",null,{"className":"col-start-3 space-y-6","children":["$","div",null,{"className":"rounded-xl bg-black p-12","children":["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L6",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","asNotFound":"$undefined","childProp":{"current":["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children",["board","PC-Community","d"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L6",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","asNotFound":"$undefined","childProp":{"current":["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children",["board","PC-Community","d"],"children",["post","2021-08-12-005-react-router-navigation","d"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L6",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","asNotFound":"$undefined","childProp":{"current":["$L9",null],"segment":"__PAGE__?{\"board\":\"PC-Community\",\"post\":\"2021-08-12-005-react-router-navigation\"}"},"styles":[]}],"segment":["post","2021-08-12-005-react-router-navigation","d"]},"styles":[]}],"segment":["board","PC-Community","d"]},"styles":[]}]}]}]]}]}]
a:I{"id":"6636","chunks":["89:static/chunks/89-2de24114e72159e2.js","988:static/chunks/app/blog/[board]/[post]/page-36c9747ca7bdb651.js"],"name":"Markdown","async":false}
b:I{"id":"414","chunks":["414:static/chunks/414-0659ba873c8de01b.js","431:static/chunks/app/blog/[board]/page-fde8c58f64e7a16f.js"],"name":"","async":false}
9:[["$","div",null,{"className":"pb-4 text-5xl font-bold text-gray-200","children":"학생 커뮤니티 사이트 제작 (5) - React Router & Navigation"}],["$","div",null,{"className":"pb-4 text-gray-400","children":"2021. 8. 11."}],["$","$La",null,{"children":"\r\n<br>\r\n\r\n이제 네비게이션을 만들고 각 메뉴를 눌렀을 때 해당 페이지로 이동하는 기능을 구현하려고 한다.\r\n고등학교를 대상으로 하기 때문에 학교의 학사일정, 시간표, 식단표 등을 나이스 API에서 불러와 페이지에 띄울 것이다.\r\n그러기 위해서 React의 router를 사용한다.\r\n원래 구현하고 싶은 방법은 사용자가 백엔드로 요청을 보내면 백엔드에서 처리하여 React를 통해 돌려주는 것이지만 React router를 이용한 방법이 더 쉬워보여서 일단 이 방법을 사용했다.\r\n\r\n<br>\r\n<br>\r\n\r\n# 1. Router 설치\r\n\r\nReact router에는 3가지가 있다고 한다.\r\n\r\n- react-router - 웹 & 앱\r\n- react-router-dom - 웹\r\n- react-router-native - 앱\r\n\r\n<br>\r\n일단은 웹을 만들 것이므로 `react-router-dom`을 설치했다.\r\n\r\n    > npm install react-router-dom\r\n\r\n<br>\r\n<br>\r\n<br>\r\n\r\n# 2. 페이지 만들기\r\n\r\n4개의 페이지를 만들었다.\r\n\r\n- 홈 - Home.js\r\n- 학사일정 - Calendar.js\r\n- 시간표 - Timetable.js\r\n- 식단표 - Menu.js\r\n\r\n파일을 분류하기 위해 `/src` 아래에 `components`와 `routes` 폴더를 만들고, 페이지들은 `routes` 폴더에 정리했다.\r\n\r\n```\r\nsrc\r\n ┣ components\r\n ┗ routes\r\n    ┣ Home.js\r\n    ┣ Calendar.js\r\n    ┣ Timetable.js\r\n    ┗ Menu.js\r\n```\r\n\r\n<br>\r\n홈은 [(4) React와 Express 연동][link1]에서 사용한 `App.js`와 같다\r\n\r\n`Home.js`\r\n\r\n```jsx\r\nimport React from 'react';\r\nimport axios from 'axios';\r\n\r\nclass Home extends React.Component {\r\n  state = {\r\n    isLoading: true,\r\n    title: null,\r\n    content: null,\r\n    data: [],\r\n  };\r\n\r\n  async getUsers() {\r\n    const res = await axios.get('/users');\r\n    this.setState({\r\n      isLoading: false,\r\n      title: res.data.title,\r\n      content: res.data.content,\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getUsers();\r\n  }\r\n\r\n  render() {\r\n    const { isLoading, title, content } = this.state;\r\n    return (\r\n      <div>\r\n        {isLoading ? (\r\n          <div>Loading...</div>\r\n        ) : (\r\n          <div>\r\n            <h1>{title}</h1>\r\n            <p>{content}</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n```\r\n\r\n<br>\r\n나머지 페이지들은 페이지가 바뀌는 것만 확인하기 위해 간단히 페이지 이름만 띄우도록 만들었다.\r\n\r\n<br>\r\n`Calendar.js`\r\n\r\n```jsx\r\nimport React from 'react';\r\n\r\nclass Calendar extends React.Component {\r\n  render() {\r\n    return <div>학사일정</div>;\r\n  }\r\n}\r\n\r\nexport default Calendar;\r\n```\r\n\r\n<br>\r\n`Timetable.js`\r\n\r\n```jsx\r\nimport React from 'react';\r\n\r\nclass Timetable extends React.Component {\r\n  render() {\r\n    return <div>학사일정</div>;\r\n  }\r\n}\r\n\r\nexport default Timetable;\r\n```\r\n\r\n<br>\r\n`Menu.js`\r\n\r\n```jsx\r\nimport React from 'react';\r\n\r\nclass Menu extends React.Component {\r\n  render() {\r\n    return <div>학사일정</div>;\r\n  }\r\n}\r\n\r\nexport default Menu;\r\n```\r\n\r\n<br>\r\n<br>\r\n<br>\r\n\r\n# 3. Router 구현하기\r\n\r\n라우터는 `App.js` 파일에 구현할 것이다.\r\n\r\n<br>\r\n먼저 `react-router-dom`을 사용하기 위해 `import` 한다.\r\n내가 사용할 것은 `Route`와 `BrowserRouter`이다.\r\n\r\n```js\r\nimport { Route, BrowserRouter } from 'react-router-dom';\r\n```\r\n\r\n<br>\r\n앞서 만든 페이지들을 사용하기 위해 import 한다.\r\n\r\n```js\r\nimport Home from './routes/Home';\r\nimport Calendar from './routes/Calendar';\r\nimport Timetable from './routes/Timetable';\r\nimport Menu from './routes/Menu';\r\n```\r\n\r\n<br>\r\n이제 App에 라우터를 적용해야 한다. 라우터는 사용할 경로와 경로에 연결할 컴포넌트를 지정해 주어야 한다. 그리고 BrowserRouter로 감싸준다.\r\n\r\n```jsx\r\n<BrowserRouter>\r\n  <Route path=\"/\" component={Home} />\r\n  <Route path=\"/calendar\" component={Calendar} />\r\n  <Route path=\"/timetable\" component={Timetable} />\r\n  <Route path=\"/menu\" component={Menu} />\r\n</BrowserRouter>\r\n```\r\n\r\n이렇게 하면 `http://localhost:3000/`에서는 `Home.js`가 나오고, `http://localhost:3000/calendar`에서는 `Calendar.js`가 나온다.\r\n\r\n<br>\r\n그런데 문제가 생겼다. 실제로 `http://localhost:3000/calendar`로 접속해보니 `Home.js`와 `Calendar.js`가 모두 렌더링된다.\r\n\r\n![/calendar 페이지][img1]\r\n\r\n이건 React의 라우터가 `BrowserRouter` 내부의 모든 `Route`를 지나면서 해당되는 경로를 모두 불러오기 때문이라고 한다. 즉, `http://localhost:3000/calendar`의 `/calendar`에는 맨 앞에 `/`가 있기 때문에 `Home`을 렌더링한다. 아래로 내려오면서 `/calendar`를 만나면 해당되는 경로이기 때문에 또 `Calendar`를 렌더링한다. 이런식으로 `Route` 중에 하나만 띄우는 것이 아니라 중복되는 것이 있어도 경로가 맞기만 하면 모두 렌더링하기 때문에 설정을 신경써서 하지 않으면 원하지 않는 결과가 나올 수 있다.\r\n\r\n<br>\r\n이 문제를 피하려면 `exact`를 사용하면 된다. `Route` 안에 `exact` 혹은 `exact={true}`를 적으면 `path`로 주어진 경로와 완벽히 일치할 때만 해당 컴포넌트를 렌더링한다.\r\n\r\n위의 경우에는 `/`의 `Route`에만 `exact`를 넣으면 문제가 해결된다.\r\n\r\n```jsx\r\n<Route exact path=\"/\" component={Home} />\r\n```\r\n\r\n<br>\r\n이제 주소창에 `/`, `/calendar`, `/timetable`, `/menu`를 입력할 때마다 해당 페이지들이 잘 나오는 것을 볼 수 있다.\r\n\r\n![/][img2]\r\n![/calendar][img3]\r\n![/timetable][img4]\r\n![/menu][img5]\r\n\r\n<br>\r\n<br>\r\n<br>\r\n\r\n# 4. Navigation 만들기\r\n\r\n클릭으로 페이지를 옮겨다닐 수 있도록 네비게이션을 만들었다.\r\n`/src/components`에 `Navigation.js` 파일을 생성한다.\r\n각 페이지로 이동할 수 있도록 링크를 만들어야 하는데, React 라우터를 쓸 때는 react-router-dom에서 제공하는 `Link` 태그를 사용한다.\r\n`Link` 태그의 속성값 `to`로 경로를 지정해주면 해당 경로로 이동하는 링크를 만들 수 있다.\r\n\r\n먼저 `Link`를 사용하기 위해서는 `Link`를 `import` 해야한다.\r\n\r\n```js\r\nimport { Link } from 'react-router-dom';\r\n```\r\n\r\n<br>\r\n그리고 `Link` 태그를 이용하여 아래의 형식으로 링크를 만들어준다.\r\n\r\n```jsx\r\n<Link to=\"path\">text</Link>\r\n```\r\n\r\n<br>\r\n나는 리스트를 이용하여 링크를 만들었다. 전체 파일의 내용은 다음과 같다.\r\n\r\n`Navigation.js`\r\n\r\n```jsx\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Navigation() {\r\n  return (\r\n    <div>\r\n      <ul>\r\n        <li>\r\n          <Link to=\"/\">Home</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/calendar\">학사일정</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/timetable\">시간표</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/menu\">식단표</Link>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Navigation;\r\n```\r\n\r\n<br>\r\n이제 `App.js`에 `Navigation.js`를 추가하고 네비게이션 컴포넌트를 넣어준다.\r\n\r\n완성된 `App.js`의 모습이다.\r\n\r\n```jsx\r\nimport React from 'react';\r\nimport { Route, BrowserRouter } from 'react-router-dom';\r\n\r\nimport Navigation from './components/Navigation';\r\nimport Home from './routes/Home';\r\nimport Calendar from './routes/Calendar';\r\nimport Timetable from './routes/Timetable';\r\nimport Menu from './routes/Menu';\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <BrowserRouter>\r\n        <Navigation />\r\n        <Route exact path=\"/\" component={Home} />\r\n        <Route path=\"/calendar\" component={Calendar} />\r\n        <Route path=\"/timetable\" component={Timetable} />\r\n        <Route path=\"/menu\" component={Menu} />\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n```\r\n\r\n<br>\r\n접속해보면 페이지에 네비게이션이 뜨고 각 링크를 클릭했을 때 잘 작동하는 것을 볼 수 있다.\r\n\r\n![네비게이션 페이지][img6]\r\n\r\n<br>\r\n\r\n## \\<Link>와 \\<a>\r\n\r\nHTML에서는 링크를 만들 때는 `<a>` 태그를 이용한다. 그러나 React에서는 `<Link>`를 사용하는 것이 좋다.\r\nReact는 SPA(Single Page Application)라서 한 번 페이지가 로드되면 다른 페이지로 이동해도 서버에 페이지를 새로 요청하지 않고 필요한 부분만 수정한다. 그래서 `<Link>`를 사용하면 페이지가 새로고침 되지는 않지만 다른 페이지로 이동하게 된다. 그러나 `<a>`를 사용하면 해당 url로 서버에 다시 요청을 보내게 되고, 페이지는 새로고침 된다.\r\n\r\n지금까지 만든 페이지로는 `<Link>`를 사용하든 `<a>`를 사용하든 별 문제는 없지만 `<a>`를 사용하면 페이지가 새로고침 되는 것을 볼 수 있다.\r\n\r\n<br>\r\n\r\n## NavLink\r\n\r\n`NavLink`는 `Link`와 같은 기능이지만 해당 링크에 있을 때만 네비게이션의 스타일이나 클래스를 지정할 수 있다. 스타일을 지정할 때는 `activeStyle` 속성을 사용하고, 클래스를 지정할 때는 `activeClassName` 속성을 사용한다.\r\n\r\n<br>\r\n`<NavLink>`를 사용하기 위해서는 `react-router-dom`에서 `NavLink`를 불러와야 한다.\r\n\r\n```js\r\nimport { NavLink } from 'react-router-dom';\r\n```\r\n\r\n<br>\r\n현재 페이지에 해당하는 링크를 빨간색으로 바꿔보겠다.\r\n\r\n`Navigation.js`\r\n\r\n```jsx\r\nimport React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nfunction Navigation() {\r\n  const activeStyle = {\r\n    color: 'red',\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <ul>\r\n        <li>\r\n          <NavLink exact to=\"/\" activeStyle={activeStyle}>\r\n            Home\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/calendar\" activeStyle={activeStyle}>\r\n            학사일정\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/timetable\" activeStyle={activeStyle}>\r\n            시간표\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/menu\" activeStyle={activeStyle}>\r\n            식단표\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Navigation;\r\n```\r\n\r\n<br>\r\n잘 작동한다.\r\n\r\n![NavLink 적용][img7]\r\n\r\n[link1]: https://paulcjy.github.io/pc%20community/004-react-express-%EC%97%B0%EB%8F%99/\r\n[img1]: https://user-images.githubusercontent.com/86853786/129266795-c52ddb79-cf3c-48d7-8d46-84338883182f.png\r\n[img2]: https://user-images.githubusercontent.com/86853786/129268618-545b5b2d-12d8-4bc9-b75d-65232cf28ac1.png\r\n[img3]: https://user-images.githubusercontent.com/86853786/129268667-07921d6e-c5e7-469f-b91a-283ab9828c5c.png\r\n[img4]: https://user-images.githubusercontent.com/86853786/129268701-1ebb6db8-580f-43f9-a9a7-d80a925ab734.png\r\n[img5]: https://user-images.githubusercontent.com/86853786/129268749-b6f58fd0-de67-4689-ac6c-16be86dcb23e.png\r\n[img6]: https://user-images.githubusercontent.com/86853786/129272977-d3ee37af-5397-42a0-9197-3b6db68349c1.png\r\n[img7]: https://user-images.githubusercontent.com/86853786/129276878-af90c8fe-5e84-47ba-bf49-f2c6533a433b.png\r\n"}],";"]
8:["$","div",null,{"className":"space-y-5","children":[["$","div","Linux",{"children":[["$","div",null,{"className":"text-small mb-1 px-3 font-semibold tracking-wider text-zinc-400","children":["$","div",null,{"children":"Linux"}]}],[["$","$Lb","basic",{"href":"/blog/basic","className":"block rounded-md px-3 py-1 text-sm font-medium text-white hover:bg-zinc-800 hover:text-zinc-100","children":[["$","span",null,{"className":"pr-1.5","children":"basic"}],["$","span",null,{"className":"text-gray-400","children":["(",7,")"]}]]}]],["$","div",null,{"className":"mb-6"}]]}],["$","div","Web",{"children":[["$","div",null,{"className":"text-small mb-1 px-3 font-semibold tracking-wider text-zinc-400","children":["$","div",null,{"children":"Web"}]}],[["$","$Lb","Github-pages",{"href":"/blog/Github-pages","className":"block rounded-md px-3 py-1 text-sm font-medium text-white hover:bg-zinc-800 hover:text-zinc-100","children":[["$","span",null,{"className":"pr-1.5","children":"Github-pages"}],["$","span",null,{"className":"text-gray-400","children":["(",15,")"]}]]}],["$","$Lb","Online-mnd",{"href":"/blog/Online-mnd","className":"block rounded-md px-3 py-1 text-sm font-medium text-white hover:bg-zinc-800 hover:text-zinc-100","children":[["$","span",null,{"className":"pr-1.5","children":"Online-mnd"}],["$","span",null,{"className":"text-gray-400","children":["(",0,")"]}]]}],["$","$Lb","PC-Community",{"href":"/blog/PC-Community","className":"block rounded-md px-3 py-1 text-sm font-medium text-white hover:bg-zinc-800 hover:text-zinc-100","children":[["$","span",null,{"className":"pr-1.5","children":"PC-Community"}],["$","span",null,{"className":"text-gray-400","children":["(",8,")"]}]]}]],["$","div",null,{"className":"mb-6"}]]}]]}]
